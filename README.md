<div align="center">

![:name](https://count.getloli.com/@astrbot_plugin_routine_manager?name=astrbot_plugin_routine_manager&theme=minecraft&padding=6&offset=0&align=top&scale=1&pixelated=1&darkmode=auto)

# astrbot_plugin_routine_manager

_ğŸ“… [astrbot](https://github.com/AstrBotDevs/AstrBot) æ™ºèƒ½ä½œæ¯ç®¡ç†æ’ä»¶ âœ¨_  

[![License](https://img.shields.io/badge/License-MIT-green.svg)](https://opensource.org/licenses/MIT)
[![Python 3.10+](https://img.shields.io/badge/Python-3.10%2B-blue.svg)](https://www.python.org/)
[![AstrBot](https://img.shields.io/badge/AstrBot-3.4%2B-orange.svg)](https://github.com/Soulter/AstrBot)
[![GitHub](https://img.shields.io/badge/ä½œè€…-Huanghun542-blue)](https://github.com/Huanghun542)

</div>

## ğŸ’¡ ä»‹ç»

ä¸€ä¸ªä¸º AstrBot æ‰“é€ çš„æ™ºèƒ½åŒ–ä½œæ¯ç®¡ç†æ’ä»¶ï¼  
å®ƒæä¾›äº†ä¸€ä¸ª**ç°ä»£åŒ–çš„å¯è§†åŒ– WebUI**ï¼Œå…è®¸ä½ é€šè¿‡æ‹–æ‹½è½»æ¾ç®¡ç†å‘¨æ—¥ç¨‹ã€‚æœ€æ ¸å¿ƒçš„åŠŸèƒ½æ˜¯åˆ©ç”¨ AstrBot çš„ Hook æœºåˆ¶ï¼Œ**æ ¹æ®å½“å‰çš„ä½œæ¯çŠ¶æ€åŠ¨æ€è°ƒæ•´ LLM çš„äººè®¾ï¼ˆSystem Promptï¼‰**ï¼Œè®© Bot çŸ¥é“å®ƒç°åœ¨æ˜¯åœ¨â€œä¸Šè¯¾â€ã€â€œç¡è§‰â€è¿˜æ˜¯â€œå·¥ä½œâ€ï¼Œä»è€Œè¡¨ç°å‡ºæ›´è´´åˆåœºæ™¯çš„è¯­æ°”å’Œå›å¤ã€‚

### âœ¨ æ ¸å¿ƒç‰¹æ€§
- **å¯è§†åŒ– WebUI**: ç°ä»£åŒ–çš„å‘¨è§†å›¾æ—¥ç¨‹è¡¨ï¼Œæ”¯æŒæ‹–æ‹½æŸ¥çœ‹ã€åŒå‡»æ·»åŠ ã€é¢œè‰²æ ‡è®°ã€‚
- **æ— æŸæ³¨å…¥**: åœ¨ LLM è¯·æ±‚å‘å‡ºå‰ä¸€åˆ»åŠ¨æ€ä¿®æ”¹ System Promptï¼Œä¸æ±¡æŸ“åŸå§‹äººæ ¼é…ç½®ã€‚
- **çƒ­æ›´æ–°**: WebUI ä¿å­˜åç«‹å³ç”Ÿæ•ˆï¼Œæ— éœ€é‡å¯æœºå™¨äººã€‚
- **å®‰å…¨æœºåˆ¶**: ç®¡ç†åå°ä½¿ç”¨ä¸€æ¬¡æ€§å¯†é’¥ï¼ˆOTPï¼‰ç™»å½•ï¼Œ10 åˆ†é’Ÿè‡ªåŠ¨è¿‡æœŸã€‚

## ğŸ“¦ å®‰è£…

### 1. å¯¼å…¥æ’ä»¶

- **æ–¹æ³•ä¸€ï¼ˆæ¨èï¼‰**ï¼šç›´æ¥åœ¨ AstrBot çš„æ’ä»¶å¸‚åœºæœç´¢ `astrbot_plugin_routine_manager` ç‚¹å‡»å®‰è£…ã€‚

- **æ–¹æ³•äºŒï¼ˆæ‰‹åŠ¨ï¼‰**ï¼šå…‹éš†æœ¬ä»“åº“åˆ°æ’ä»¶æ–‡ä»¶å¤¹ï¼š

```bash
cd /AstrBot/data/plugins
git clone https://github.com/Huanghun542/astrbot_plugin_routine_manager
```

### 2. å®‰è£…ä¾èµ–

æœ¬æ’ä»¶éœ€è¦é¢å¤–çš„ Web æ¡†æ¶æ”¯æŒï¼Œè¯·åœ¨ AstrBot ç¯å¢ƒä¸‹è¿è¡Œï¼š

```bash
pip install quart hypercorn
```

### 3. é‡å¯

æ§åˆ¶å°é‡å¯ AstrBot ä»¥åŠ è½½æ’ä»¶ã€‚

## âš™ï¸ é…ç½®

ä¸»è¦é…ç½®é€šè¿‡ WebUI è¿›è¡Œï¼Œé«˜çº§é…ç½®å¯åœ¨ `routine_config.json` ä¸­ä¿®æ”¹ï¼š

- `timezone`: æ—¶åŒºè®¾ç½®ï¼ˆé»˜è®¤ `Asia/Shanghai`ï¼‰
- `inject_scope`: æ³¨å…¥ç”Ÿæ•ˆèŒƒå›´ (`all` / `private` / `group` / `off`)
- `webui_port`: åå°ç«¯å£ï¼ˆé»˜è®¤ `58101`ï¼‰

## âŒ¨ï¸ ä½¿ç”¨è¯´æ˜

### 1. å¼€å¯ç®¡ç†åå°
åœ¨èŠå¤©çª—å£ï¼ˆä»…é™ç®¡ç†å‘˜ï¼‰å‘é€æŒ‡ä»¤ï¼Œè·å–ä¸´æ—¶çš„è®¿é—®åœ°å€å’Œå¯†é’¥ã€‚

### 2. é…ç½®ä½œæ¯
1. æµè§ˆå™¨æ‰“å¼€æœºå™¨äººå›å¤çš„ URLã€‚
2. è¾“å…¥å¯†é’¥ç™»å½•ã€‚
3. **åŒå‡»** ç©ºç™½ç½‘æ ¼æ·»åŠ æ—¥ç¨‹ï¼ˆä¾‹å¦‚ï¼š`08:00-10:00` ä¸Šè¯¾ï¼‰ã€‚
4. ç‚¹å‡»å³ä¸‹è§’ **â€œä¿å­˜é…ç½®â€** æŒ‰é’®ã€‚

### 3. éªŒè¯æ•ˆæœ
é…ç½®å®Œæˆåï¼Œå½“æ—¶é—´å¤„äºè®¾å®šçš„æ—¥ç¨‹èŒƒå›´å†…æ—¶ï¼ŒLLM çš„ System Prompt ä¼šè‡ªåŠ¨è¿½åŠ ç±»ä¼¼ä»¥ä¸‹å†…å®¹ï¼š

> ç°åœ¨æ—¶é—´ï¼š2025-11-22 09:30:00 å½“å‰è¡Œä¸ºï¼šä¸Šè¯¾ è¯·åœ¨è¯­æ°”å’Œå†…å®¹ä¸Šè´´åˆè¯¥åœºæ™¯è¿›è¡Œå›å¤ã€‚

## âŒ¨ï¸ æŒ‡ä»¤è¡¨

|     æŒ‡ä»¤      |                    è¯´æ˜                    |
|:-------------:|:-----------------------------------------------:|
| ä½œæ¯ç®¡ç† å¼€å¯ç®¡ç†åå° |   ç”Ÿæˆ WebUI è®¿é—®é“¾æ¥åŠä¸´æ—¶ç™»å½•å¯†é’¥      |


## ğŸ¤ TODO

- [ ] å¯è§†åŒ–å‘¨è§†å›¾æ—¥ç¨‹è¡¨
- [ ] LLM åŠ¨æ€ Prompt æ³¨å…¥
- [ ] å®‰å…¨å¯†é’¥ç™»å½•æœºåˆ¶
- [ ] æ”¯æŒæ›´å¤šè‡ªå®šä¹‰æ³¨å…¥æ¨¡æ¿
- [ ] ç§»åŠ¨ç«¯ UI é€‚é…ä¼˜åŒ–

## ğŸ‘¥ è´¡çŒ®æŒ‡å—

- ğŸŒŸ Star è¿™ä¸ªé¡¹ç›®ï¼ï¼ˆç‚¹å³ä¸Šè§’çš„æ˜Ÿæ˜Ÿï¼Œæ„Ÿè°¢æ”¯æŒï¼ï¼‰
- ğŸ› æäº¤ Issue æŠ¥å‘Šé—®é¢˜
- ğŸ’¡ æå‡ºæ–°åŠŸèƒ½å»ºè®®
- ğŸ”§ æäº¤ Pull Request æ”¹è¿›ä»£ç 
```
